{"version":3,"sources":["integration-test/spec-modules/regionSetting.js"],"names":["mock","auth","client","regionSettings","account","describe","timeout","mockClient","isLoginSuccess","clientHistoryRequest","before","mockForLogin","console","error","skip","it","retries","expect","availableCountries","to","have","length","above","equal","getRawResponse","endPoints","dialingPlan","records"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACA;;IAAYA,I;;;;;;kBAEG,UAACC,IAAD,EAAOC,MAAP,EAAeC,cAAf,EAA+BC,OAA/B,EAA2C;AACxDC,WAAS,yCAAT,EAAoD,YAAY;AAAA;;AAC9D,SAAKC,OAAL,CAAa,KAAb;AACAN,SAAKO,UAAL,CAAgBL,MAAhB;AACA,QAAIM,uBAAJ;AACA,QAAMC,uBAAuB,mCAAyB,mBAAzB,EAAoCP,MAApC,CAA7B;AACAQ,sEAAO;AAAA;AAAA;AAAA;AAAA;AACLV,mBAAKW,YAAL;AADK;AAAA,qBAEkB,2BAAYV,IAAZ,EAAkBG,OAAlB,CAFlB;;AAAA;AAELI,4BAFK;;AAGL,kBAAI,CAACA,cAAL,EAAqB;AACnBI,wBAAQC,KAAR,CAAc,oDAAd,EAAoET,OAApE;AACA,qBAAKU,IAAL;AACD;;AANI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AASAC,OAAG,0DAAH,6DAA+D;AAAA;AAAA;AAAA;AAAA;AAC7D,oBAAKC,OAAL,CAAa,CAAb;AAD6D;AAAA,qBAEvD,6BAAc,CAAd,CAFuD;;AAAA;AAG7DC,qBAAOd,eAAee,kBAAtB,EAA0CC,EAA1C,CAA6CC,IAA7C,CAAkDC,MAAlD,CAAyDC,KAAzD,CAA+D,CAA/D;;AAH6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA/D;;AAMAP,OAAG,uDAAH,EAA4D,YAAM;AAChEE,aAAOd,eAAee,kBAAf,CAAkCG,MAAzC,EAAiDF,EAAjD,CAAoDI,KAApD,CAA0Dd,qBAAqBe,cAArB,CAAoC,+BAAqBC,SAArB,CAA+BC,WAAnE,EAAgFC,OAAhF,CAAwFN,MAAlJ;AACD,KAFD;AAGD,GAvBD;AAwBD,C","file":"regionSetting.js","sourcesContent":["import { ensureLogin } from '../utils/HelpUtil';\nimport { waitInSeconds } from '../utils/WaitUtil';\nimport ClientHistoryRequest from '../utils/ClientHistoryRequest';\nimport * as mock from '../mock';\n\nexport default (auth, client, regionSettings, account) => {\n  describe('Should Load Region Settings after Login', function () {\n    this.timeout(20000);\n    mock.mockClient(client);\n    let isLoginSuccess;\n    const clientHistoryRequest = new ClientHistoryRequest(new Map(), client);\n    before(async function () {\n      mock.mockForLogin();\n      isLoginSuccess = await ensureLogin(auth, account);\n      if (!isLoginSuccess) {\n        console.error('Skip test case as failed to login with credential ', account);\n        this.skip();\n      }\n    });\n\n    it('Region Settings should be ready in 2 seconds after login', async () => {\n      this.retries(2);\n      await waitInSeconds(2);\n      expect(regionSettings.availableCountries).to.have.length.above(0);\n    });\n\n    it('Record fetched from SDK should be the same as RawData', () => {\n      expect(regionSettings.availableCountries.length).to.equal(clientHistoryRequest.getRawResponse(ClientHistoryRequest.endPoints.dialingPlan).records.length);\n    });\n  });\n};\n"]}