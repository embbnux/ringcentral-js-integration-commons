{"version":3,"sources":["lib/callLogHelpers.js"],"names":["isInbound","isOutbound","areTwoLegs","isRinging","hasRingingCalls","isEnded","hasEndedCalls","isOnHold","sortBySessionId","sortCallsByStartTime","call","direction","inbound","outbound","indexOf","Math","abs","sessionId","from","to","name","telephonyStatus","ringing","calls","find","noCall","terminationType","final","onHold","a","b","startTime"],"mappings":";;;;;QAOgBA,S,GAAAA,S;QAIAC,U,GAAAA,U;QAMAC,U,GAAAA,U;QAYAC,S,GAAAA,S;QAIAC,e,GAAAA,e;QAIAC,O,GAAAA,O;QAKAC,a,GAAAA,a;QAKAC,Q,GAAAA,Q;QAMAC,e,GAAAA,e;QAMAC,oB,GAAAA,oB;;AA3DhB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACO,SAAST,SAAT,GAA8B;AAAA,MAAXU,IAAW,uEAAJ,EAAI;;AACnC,SAAOA,KAAKC,SAAL,KAAmB,yBAAeC,OAAzC;AACD;;AAEM,SAASX,UAAT,GAA+B;AAAA,MAAXS,IAAW,uEAAJ,EAAI;;AACpC,SAAOA,KAAKC,SAAL,KAAmB,yBAAeE,QAAzC;AACD;;AAGD;AACO,SAASX,UAAT,CAAoBU,OAApB,EAA6BC,QAA7B,EAAuC;AAC5C,SAAOb,UAAUY,OAAV,KACFX,WAAWY,QAAX,CADE,IAEF,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyBC,OAAzB,CAAiCC,KAAKC,GAAL,CAASJ,QAAQK,SAAR,GAAoBJ,SAASI,SAAtC,CAAjC,IAAqF,CAAC,CAFpF,KAGAL,QAAQM,IAAR,KAAiBL,SAASM,EAA1B,IAAgCN,SAASK,IAAT,KAAkBN,QAAQO,EAA3D,IACDP,QAAQM,IAAR,KAAiBL,SAASM,EAA1B,IAAgC,iCAAkBP,QAAQO,EAA1B,EAA8BN,SAASK,IAAvC,CAD/B,IAEDN,QAAQO,EAAR,KAAeN,SAASK,IAAxB,IAAgC,iCAAkBN,QAAQM,IAA1B,EAAgCL,SAASM,EAAzC,CAF/B,IAGDP,QAAQO,EAAR,CAAWC,IAAX,IAAmBR,QAAQO,EAAR,CAAWC,IAAX,KAAoBP,SAASK,IAAT,CAAcE,IANnD,CAAP;AAOD;;AAGD;AACO,SAASjB,SAAT,GAA8B;AAAA,MAAXO,IAAW,uEAAJ,EAAI;;AACnC,SAAOA,KAAKW,eAAL,KAAyB,0BAAgBC,OAAhD;AACD;;AAEM,SAASlB,eAAT,GAAqC;AAAA,MAAZmB,KAAY,uEAAJ,EAAI;;AAC1C,SAAO,CAAC,CAACA,MAAMC,IAAN,CAAWrB,SAAX,CAAT;AACD;;AAEM,SAASE,OAAT,GAA4B;AAAA,MAAXK,IAAW,uEAAJ,EAAI;;AACjC,SAAOA,KAAKW,eAAL,KAAyB,0BAAgBI,MAAzC,IACLf,KAAKgB,eAAL,KAAyB,2BAAiBC,KAD5C;AAED;;AAEM,SAASrB,aAAT,CAAuBiB,KAAvB,EAA8B;AACnC,SAAO,CAAC,CAACA,MAAMC,IAAN,CAAWnB,OAAX,CAAT;AACD;;AAGM,SAASE,QAAT,GAA6B;AAAA,MAAXG,IAAW,uEAAJ,EAAI;;AAClC,SAAOA,KAAKW,eAAL,KAAyB,0BAAgBO,MAAhD;AACD;;AAED;;AAEO,SAASpB,eAAT,CAAyBqB,CAAzB,EAA4BC,CAA5B,EAA+B;AACpC,MAAID,EAAEZ,SAAF,KAAgBa,EAAEb,SAAtB,EAAiC,OAAO,CAAP;AACjC,SAAOY,EAAEZ,SAAF,GAAca,EAAEb,SAAhB,GACL,CADK,GAEL,CAAC,CAFH;AAGD;AACM,SAASR,oBAAT,CAA8BoB,CAA9B,EAAiCC,CAAjC,EAAoC;AACzC,MAAID,EAAEE,SAAF,KAAgBD,EAAEC,SAAtB,EAAiC,OAAO,CAAP;AACjC,SAAOF,EAAEE,SAAF,GAAcD,EAAEC,SAAhB,GACL,CAAC,CADI,GAEL,CAFF;AAGD","file":"callLogHelpers.js","sourcesContent":["import 'core-js/fn/array/find';\nimport callDirections from '../enums/callDirections';\nimport telephonyStatus from '../enums/telephonyStatus';\nimport terminationTypes from '../enums/terminationTypes';\nimport isSameLocalNumber from './isSameLocalNumber';\n\n/* call direction helpers */\nexport function isInbound(call = {}) {\n  return call.direction === callDirections.inbound;\n}\n\nexport function isOutbound(call = {}) {\n  return call.direction === callDirections.outbound;\n}\n\n\n/* ringout leg helpers */\nexport function areTwoLegs(inbound, outbound) {\n  return isInbound(inbound)\n    && isOutbound(outbound)\n    && [1000, 2000, 3000, 4000].indexOf(Math.abs(inbound.sessionId - outbound.sessionId)) > -1\n    && ((inbound.from === outbound.to && outbound.from === inbound.to) ||\n      (inbound.from === outbound.to && isSameLocalNumber(inbound.to, outbound.from)) ||\n      (inbound.to === outbound.from && isSameLocalNumber(inbound.from, outbound.to)) ||\n      (inbound.to.name && inbound.to.name === outbound.from.name));\n}\n\n\n/* status helpers */\nexport function isRinging(call = {}) {\n  return call.telephonyStatus === telephonyStatus.ringing;\n}\n\nexport function hasRingingCalls(calls = []) {\n  return !!calls.find(isRinging);\n}\n\nexport function isEnded(call = {}) {\n  return call.telephonyStatus === telephonyStatus.noCall &&\n    call.terminationType === terminationTypes.final;\n}\n\nexport function hasEndedCalls(calls) {\n  return !!calls.find(isEnded);\n}\n\n\nexport function isOnHold(call = {}) {\n  return call.telephonyStatus === telephonyStatus.onHold;\n}\n\n/* sort functions */\n\nexport function sortBySessionId(a, b) {\n  if (a.sessionId === b.sessionId) return 0;\n  return a.sessionId > b.sessionId ?\n    1 :\n    -1;\n}\nexport function sortCallsByStartTime(a, b) {\n  if (a.startTime === b.startTime) return 0;\n  return a.startTime > b.startTime ?\n    -1 :\n    1;\n}\n"]}