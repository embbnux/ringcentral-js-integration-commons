{"version":3,"sources":["lib/proxy/getProxyServerReducer.js"],"names":["getProxyServerReducer","moduleReducer","transport","prefix","actionTypes","enumMap","state","target","undefined","type","initModule","lastAction","actionNumber","action","nextActionNumber","push","payload"],"mappings":";;;;;kBAGwBA,qB;;AAHxB;;AACA;;;;;;AAEe,SAASA,qBAAT,OAAqE;AAAA,MAApCC,aAAoC,QAApCA,aAAoC;AAAA,MAArBC,SAAqB,QAArBA,SAAqB;AAAA,MAAVC,MAAU,QAAVA,MAAU;;AAClF,MAAMC,cAAc,sBAAW,EAAEC,kCAAF,EAA4BF,cAA5B,EAAX,CAApB;AACA,SAAO,YASF;AAAA,QARHG,KAQG,uEARK;AACNC,cAAQN,cAAcO,SAAd,EAAyB;AAC/BC,cAAML,YAAYM;AADa,OAAzB,CADF;AAINC,kBAAY,IAJN;AAKNC,oBAAc,CAAC;AALT,KAQL;AAAA,QADHC,MACG;;AACH,QAAI,CAACA,MAAL,EAAa,OAAOP,KAAP;AACb,QAAMQ,mBAAmBR,MAAMM,YAAN,GAAqB,CAA9C;AACAV,cAAUa,IAAV,CAAe;AACbC,eAAS;AACPP,cAAML,YAAYS,MADX;AAEPA,sBAFO;AAGPD,sBAAcE;AAHP;AADI,KAAf;AAOA,WAAO;AACLP,cAAQN,cAAcK,MAAMC,MAApB,EAA4BM,MAA5B,CADH;AAELF,kBAAYE,MAFP;AAGLD,oBAAcE;AAHT,KAAP;AAKD,GAxBD;AAyBD","file":"getProxyServerReducer.js","sourcesContent":["import { prefixEnum } from '../Enum';\r\nimport baseActionTypes from './baseActionTypes';\r\n\r\nexport default function getProxyServerReducer({ moduleReducer, transport, prefix }) {\r\n  const actionTypes = prefixEnum({ enumMap: baseActionTypes, prefix });\r\n  return (\r\n    state = {\r\n      target: moduleReducer(undefined, {\r\n        type: actionTypes.initModule,\r\n      }),\r\n      lastAction: null,\r\n      actionNumber: -1,\r\n    },\r\n    action,\r\n  ) => {\r\n    if (!action) return state;\r\n    const nextActionNumber = state.actionNumber + 1;\r\n    transport.push({\r\n      payload: {\r\n        type: actionTypes.action,\r\n        action,\r\n        actionNumber: nextActionNumber,\r\n      },\r\n    });\r\n    return {\r\n      target: moduleReducer(state.target, action),\r\n      lastAction: action,\r\n      actionNumber: nextActionNumber,\r\n    };\r\n  };\r\n}\r\n"]}