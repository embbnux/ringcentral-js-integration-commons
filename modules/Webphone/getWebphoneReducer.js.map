{"version":3,"sources":["modules/Webphone/getWebphoneReducer.js"],"names":["getVideoElementPreparedReducer","getConnectionStatusReducer","getConnectRetryCountsReducer","getWebphoneReducer","types","state","type","videoElementPrepared","init","disconnected","connect","reconnect","connecting","registered","connected","unregistered","disconnect","disconnecting","connectError","registrationFailed","connectFailed","resetRetryCounts","status","connectionStatus","connectRetryCounts"],"mappings":";;;;;QAKgBA,8B,GAAAA,8B;QAOAC,0B,GAAAA,0B;QAqBAC,4B,GAAAA,4B;kBAcQC,kB;;AA/CxB;;AACA;;;;AAEA;;;;;;AAEO,SAASH,8BAAT,CAAwCI,KAAxC,EAA+C;AACpD,SAAO,YAA2D;AAAA,QAA1DC,KAA0D,uEAAlD,KAAkD;AAAA;AAAA,QAAzCC,IAAyC,QAAzCA,IAAyC;AAAA,qCAAnCC,oBAAmC;AAAA,QAAnCA,oBAAmC,yCAAZF,KAAY;;AAChE,QAAIC,SAASF,MAAMI,IAAnB,EAAyB,OAAOD,oBAAP;AACzB,WAAOF,KAAP;AACD,GAHD;AAID;;AAEM,SAASJ,0BAAT,CAAoCG,KAApC,EAA2C;AAChD,SAAO,YAAqD;AAAA,QAApDC,KAAoD,uEAA5C,2BAAiBI,YAA2B;AAAA;AAAA,QAAXH,IAAW,SAAXA,IAAW;;AAC1D,YAAQA,IAAR;AACE,WAAKF,MAAMM,OAAX;AACA,WAAKN,MAAMO,SAAX;AACE,eAAO,2BAAiBC,UAAxB;AACF,WAAKR,MAAMS,UAAX;AACE,eAAO,2BAAiBC,SAAxB;AACF,WAAKV,MAAMW,YAAX;AACE,eAAO,2BAAiBN,YAAxB;AACF,WAAKL,MAAMY,UAAX;AACE,eAAO,2BAAiBC,aAAxB;AACF,WAAKb,MAAMc,YAAX;AACA,WAAKd,MAAMe,kBAAX;AACE,eAAO,2BAAiBC,aAAxB;AACF;AACE,eAAOf,KAAP;AAdJ;AAgBD,GAjBD;AAkBD;;AAEM,SAASH,4BAAT,CAAsCE,KAAtC,EAA6C;AAClD,SAAO,YAAyB;AAAA,QAAxBC,KAAwB,uEAAhB,CAAgB;AAAA;AAAA,QAAXC,IAAW,SAAXA,IAAW;;AAC9B,YAAQA,IAAR;AACE,WAAKF,MAAMO,SAAX;AACE,eAAON,QAAQ,CAAf;AACF,WAAKD,MAAMiB,gBAAX;AACA,WAAKjB,MAAMS,UAAX;AACE,eAAO,CAAP;AACF;AACE,eAAOR,KAAP;AAPJ;AASD,GAVD;AAWD;;AAEc,SAASF,kBAAT,CAA4BC,KAA5B,EAAmC;AAChD,SAAO,4BAAgB;AACrBkB,YAAQ,sCAAuBlB,KAAvB,CADa;AAErBG,0BAAsBP,+BAA+BI,KAA/B,CAFD;AAGrBmB,sBAAkBtB,2BAA2BG,KAA3B,CAHG;AAIrBoB,wBAAoBtB,6BAA6BE,KAA7B;AAJC,GAAhB,CAAP;AAMD","file":"getWebphoneReducer.js","sourcesContent":["import { combineReducers } from 'redux';\nimport getModuleStatusReducer from '../../lib/getModuleStatusReducer';\n\nimport connectionStatus from './connectionStatus';\n\nexport function getVideoElementPreparedReducer(types) {\n  return (state = false, { type, videoElementPrepared = state }) => {\n    if (type === types.init) return videoElementPrepared;\n    return state;\n  };\n}\n\nexport function getConnectionStatusReducer(types) {\n  return (state = connectionStatus.disconnected, { type }) => {\n    switch (type) {\n      case types.connect:\n      case types.reconnect:\n        return connectionStatus.connecting;\n      case types.registered:\n        return connectionStatus.connected;\n      case types.unregistered:\n        return connectionStatus.disconnected;\n      case types.disconnect:\n        return connectionStatus.disconnecting;\n      case types.connectError:\n      case types.registrationFailed:\n        return connectionStatus.connectFailed;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getConnectRetryCountsReducer(types) {\n  return (state = 0, { type }) => {\n    switch (type) {\n      case types.reconnect:\n        return state + 1;\n      case types.resetRetryCounts:\n      case types.registered:\n        return 0;\n      default:\n        return state;\n    }\n  };\n}\n\nexport default function getWebphoneReducer(types) {\n  return combineReducers({\n    status: getModuleStatusReducer(types),\n    videoElementPrepared: getVideoElementPreparedReducer(types),\n    connectionStatus: getConnectionStatusReducer(types),\n    connectRetryCounts: getConnectRetryCountsReducer(types),\n  });\n}\n"]}