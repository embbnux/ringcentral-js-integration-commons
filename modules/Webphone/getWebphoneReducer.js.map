{"version":3,"sources":["modules/Webphone/getWebphoneReducer.js"],"names":["getVideoElementPreparedReducer","getConnectionStatusReducer","getSessionStatusReducer","getConnectRetryCountsReducer","getWebphoneCountsReducer","getWebphoneReducer","types","state","type","videoElementPrepared","init","disconnected","connect","reconnect","connecting","registered","connected","unregistered","disconnect","disconnecting","connectError","registrationFailed","connectFailed","idle","updateSession","active","destroySession","resetRetryCounts","status","connectionStatus","sessionStatus","connectRetryCounts","webphoneCounts"],"mappings":";;;;;QAKgBA,8B,GAAAA,8B;QAOAC,0B,GAAAA,0B;QAqBAC,uB,GAAAA,uB;QAaAC,4B,GAAAA,4B;QAcAC,wB,GAAAA,wB;kBAaQC,kB;;AAzExB;;AACA;;;;AAEA;;;;;;AAEO,SAASL,8BAAT,CAAwCM,KAAxC,EAA+C;AACpD,SAAO,YAA2D;AAAA,QAA1DC,KAA0D,uEAAlD,KAAkD;AAAA;AAAA,QAAzCC,IAAyC,QAAzCA,IAAyC;AAAA,qCAAnCC,oBAAmC;AAAA,QAAnCA,oBAAmC,yCAAZF,KAAY;;AAChE,QAAIC,SAASF,MAAMI,IAAnB,EAAyB,OAAOD,oBAAP;AACzB,WAAOF,KAAP;AACD,GAHD;AAID;;AAEM,SAASN,0BAAT,CAAoCK,KAApC,EAA2C;AAChD,SAAO,YAAqD;AAAA,QAApDC,KAAoD,uEAA5C,2BAAiBI,YAA2B;AAAA;AAAA,QAAXH,IAAW,SAAXA,IAAW;;AAC1D,YAAQA,IAAR;AACE,WAAKF,MAAMM,OAAX;AACA,WAAKN,MAAMO,SAAX;AACE,eAAO,2BAAiBC,UAAxB;AACF,WAAKR,MAAMS,UAAX;AACE,eAAO,2BAAiBC,SAAxB;AACF,WAAKV,MAAMW,YAAX;AACE,eAAO,2BAAiBN,YAAxB;AACF,WAAKL,MAAMY,UAAX;AACE,eAAO,2BAAiBC,aAAxB;AACF,WAAKb,MAAMc,YAAX;AACA,WAAKd,MAAMe,kBAAX;AACE,eAAO,2BAAiBC,aAAxB;AACF;AACE,eAAOf,KAAP;AAdJ;AAgBD,GAjBD;AAkBD;;AAEM,SAASL,uBAAT,CAAiCI,KAAjC,EAAwC;AAC7C,SAAO,YAA6C;AAAA,QAA5CC,KAA4C,uEAApC,2BAAiBgB,IAAmB;AAAA;AAAA,QAAXf,IAAW,SAAXA,IAAW;;AAClD,YAAQA,IAAR;AACE,WAAKF,MAAMkB,aAAX;AACE,eAAO,2BAAiBC,MAAxB;AACF,WAAKnB,MAAMoB,cAAX;AACE,eAAO,2BAAiBH,IAAxB;AACF;AACE,eAAOhB,KAAP;AANJ;AAQD,GATD;AAUD;;AAEM,SAASJ,4BAAT,CAAsCG,KAAtC,EAA6C;AAClD,SAAO,YAAyB;AAAA,QAAxBC,KAAwB,uEAAhB,CAAgB;AAAA;AAAA,QAAXC,IAAW,SAAXA,IAAW;;AAC9B,YAAQA,IAAR;AACE,WAAKF,MAAMO,SAAX;AACE,eAAON,QAAQ,CAAf;AACF,WAAKD,MAAMqB,gBAAX;AACA,WAAKrB,MAAMS,UAAX;AACE,eAAO,CAAP;AACF;AACE,eAAOR,KAAP;AAPJ;AASD,GAVD;AAWD;;AAEM,SAASH,wBAAT,CAAkCE,KAAlC,EAAyC;AAC9C,SAAO,YAAyB;AAAA,QAAxBC,KAAwB,uEAAhB,CAAgB;AAAA;AAAA,QAAXC,IAAW,SAAXA,IAAW;;AAC9B,YAAQA,IAAR;AACE,WAAKF,MAAMM,OAAX;AACE,eAAOL,QAAQ,CAAf;AACF,WAAKD,MAAMY,UAAX;AACE,eAAOX,QAAQ,CAAf;AACF;AACE,eAAOA,KAAP;AANJ;AAQD,GATD;AAUD;;AAEc,SAASF,kBAAT,CAA4BC,KAA5B,EAAmC;AAChD,SAAO,4BAAgB;AACrBsB,YAAQ,sCAAuBtB,KAAvB,CADa;AAErBG,0BAAsBT,+BAA+BM,KAA/B,CAFD;AAGrBuB,sBAAkB5B,2BAA2BK,KAA3B,CAHG;AAIrBwB,mBAAe5B,wBAAwBI,KAAxB,CAJM;AAKrByB,wBAAoB5B,6BAA6BG,KAA7B,CALC;AAMrB0B,oBAAgB5B,yBAAyBE,KAAzB;AANK,GAAhB,CAAP;AAQD","file":"getWebphoneReducer.js","sourcesContent":["import { combineReducers } from 'redux';\nimport getModuleStatusReducer from '../../lib/getModuleStatusReducer';\n\nimport connectionStatus from './connectionStatus';\n\nexport function getVideoElementPreparedReducer(types) {\n  return (state = false, { type, videoElementPrepared = state }) => {\n    if (type === types.init) return videoElementPrepared;\n    return state;\n  };\n}\n\nexport function getConnectionStatusReducer(types) {\n  return (state = connectionStatus.disconnected, { type }) => {\n    switch (type) {\n      case types.connect:\n      case types.reconnect:\n        return connectionStatus.connecting;\n      case types.registered:\n        return connectionStatus.connected;\n      case types.unregistered:\n        return connectionStatus.disconnected;\n      case types.disconnect:\n        return connectionStatus.disconnecting;\n      case types.connectError:\n      case types.registrationFailed:\n        return connectionStatus.connectFailed;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getSessionStatusReducer(types) {\n  return (state = connectionStatus.idle, { type }) => {\n    switch (type) {\n      case types.updateSession:\n        return connectionStatus.active;\n      case types.destroySession:\n        return connectionStatus.idle;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getConnectRetryCountsReducer(types) {\n  return (state = 0, { type }) => {\n    switch (type) {\n      case types.reconnect:\n        return state + 1;\n      case types.resetRetryCounts:\n      case types.registered:\n        return 0;\n      default:\n        return state;\n    }\n  };\n}\n\nexport function getWebphoneCountsReducer(types) {\n  return (state = 0, { type }) => {\n    switch (type) {\n      case types.connect:\n        return state + 1;\n      case types.disconnect:\n        return state - 1;\n      default:\n        return state;\n    }\n  };\n}\n\nexport default function getWebphoneReducer(types) {\n  return combineReducers({\n    status: getModuleStatusReducer(types),\n    videoElementPrepared: getVideoElementPreparedReducer(types),\n    connectionStatus: getConnectionStatusReducer(types),\n    sessionStatus: getSessionStatusReducer(types),\n    connectRetryCounts: getConnectRetryCountsReducer(types),\n    webphoneCounts: getWebphoneCountsReducer(types),\n  });\n}\n"]}