{"version":3,"sources":["modules/Webphone/webphoneHelper.js"],"names":["isBrowerSupport","normalizeSession","isRing","isOnHold","isChrome","navigator","userAgent","match","chromeVersion","parseInt","session","id","direction","callStatus","to","request","uri","user","toUserName","displayName","from","fromUserName","startTime","Date","getTime","creationTime","local","isOnMute","isOnFlip","isOnTransfer","recordStatus","idle","contactMatch","minimized","inbound","connecting","onHold"],"mappings":";;;;;QAIgBA,e,GAAAA,e;QAaAC,gB,GAAAA,gB;QAqBAC,M,GAAAA,M;QAQAC,Q,GAAAA,Q;;AA9ChB;;;;AACA;;;;AACA;;;;;;AAEO,SAASH,eAAT,GAA2B;AAChC,MAAMI,WAAW,CAAC,CAAEC,UAAUC,SAAV,CAAoBC,KAApB,CAA0B,cAA1B,CAApB;AACA,MAAI,CAACH,QAAL,EAAe;AACb,WAAO,KAAP;AACD;AACD,MAAMI,gBACJC,SAASJ,UAAUC,SAAV,CAAoBC,KAApB,CAA0B,0BAA1B,EAAsD,CAAtD,CAAT,EAAmE,EAAnE,CADF;AAEA,MAAIC,iBAAiB,EAArB,EAAyB;AACvB,WAAO,IAAP;AACD;AACD,SAAO,KAAP;AACD;;AAEM,SAASP,gBAAT,CAA0BS,OAA1B,EAAmC;AACxC,SAAO;AACLC,QAAID,QAAQC,EADP;AAELC,eAAWF,QAAQE,SAFd;AAGLC,gBAAYH,QAAQG,UAHf;AAILC,QAAIJ,QAAQK,OAAR,CAAgBD,EAAhB,CAAmBE,GAAnB,CAAuBC,IAJtB;AAKLC,gBAAYR,QAAQK,OAAR,CAAgBD,EAAhB,CAAmBK,WAL1B;AAMLC,UAAMV,QAAQK,OAAR,CAAgBK,IAAhB,CAAqBJ,GAArB,CAAyBC,IAN1B;AAOLI,kBAAcX,QAAQK,OAAR,CAAgBK,IAAhB,CAAqBD,WAP9B;AAQLG,eAAWZ,QAAQY,SAAR,IAAsB,IAAIC,IAAJ,CAASb,QAAQY,SAAjB,CAAD,CAA8BE,OAA9B,EAR3B;AASLC,kBAAcf,QAAQe,YATjB;AAULtB,cAAU,CAAC,CAACO,QAAQP,QAAR,GAAmBuB,KAV1B;AAWLC,cAAU,CAAC,CAACjB,QAAQiB,QAXf;AAYLC,cAAU,CAAC,CAAClB,QAAQkB,QAZf;AAaLC,kBAAc,CAAC,CAACnB,QAAQmB,YAbnB;AAcLC,kBAAcpB,QAAQoB,YAAR,IAAwB,uBAAaC,IAd9C;AAeLC,kBAActB,QAAQsB,YAfjB;AAgBLC,eAAW,CAAC,CAACvB,QAAQuB;AAhBhB,GAAP;AAkBD;;AAEM,SAAS/B,MAAT,CAAgBQ,OAAhB,EAAyB;AAC9B,SAAO,CAAC,EACNA,WACAA,QAAQE,SAAR,KAAsB,yBAAesB,OADrC,IAEAxB,QAAQG,UAAR,KAAuB,wBAAcsB,UAH/B,CAAR;AAKD;;AAEM,SAAShC,QAAT,CAAkBO,OAAlB,EAA2B;AAChC,SAAO,CAAC,EAAEA,WAAWA,QAAQG,UAAR,KAAuB,wBAAcuB,MAAlD,CAAR;AACD","file":"webphoneHelper.js","sourcesContent":["import recordStatus from './recordStatus';\nimport sessionStatus from './sessionStatus';\nimport callDirections from '../../enums/callDirections';\n\nexport function isBrowerSupport() {\n  const isChrome = !!(navigator.userAgent.match(/Chrom(e|ium)/));\n  if (!isChrome) {\n    return false;\n  }\n  const chromeVersion =\n    parseInt(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)[2], 10);\n  if (chromeVersion >= 51) {\n    return true;\n  }\n  return false;\n}\n\nexport function normalizeSession(session) {\n  return {\n    id: session.id,\n    direction: session.direction,\n    callStatus: session.callStatus,\n    to: session.request.to.uri.user,\n    toUserName: session.request.to.displayName,\n    from: session.request.from.uri.user,\n    fromUserName: session.request.from.displayName,\n    startTime: session.startTime && (new Date(session.startTime)).getTime(),\n    creationTime: session.creationTime,\n    isOnHold: !!session.isOnHold().local,\n    isOnMute: !!session.isOnMute,\n    isOnFlip: !!session.isOnFlip,\n    isOnTransfer: !!session.isOnTransfer,\n    recordStatus: session.recordStatus || recordStatus.idle,\n    contactMatch: session.contactMatch,\n    minimized: !!session.minimized,\n  };\n}\n\nexport function isRing(session) {\n  return !!(\n    session &&\n    session.direction === callDirections.inbound &&\n    session.callStatus === sessionStatus.connecting\n  );\n}\n\nexport function isOnHold(session) {\n  return !!(session && session.callStatus === sessionStatus.onHold);\n}\n"]}