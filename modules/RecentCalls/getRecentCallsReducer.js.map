{"version":3,"sources":["modules/RecentCalls/getRecentCallsReducer.js"],"names":["getCallsReducer","getCallStatusReducer","getRecentCallsReducer","types","state","type","contact","calls","sessionId","contactId","String","id","loadSuccess","loadReset","_","rest","initLoad","loading","loaded","status","callStatus"],"mappings":";;;;;;;;;;;;;;;;;;QAIgBA,e,GAAAA,e;QAgBAC,oB,GAAAA,oB;kBAcQC,qB;;AAlCxB;;AACA;;;;AACA;;;;;;AAEO,SAASF,eAAT,CAAyBG,KAAzB,EAAgC;AACrC,SAAO,YAAqD;AAAA,QAApDC,KAAoD,uEAA5C,EAA4C;AAAA;AAAA,QAAtCC,IAAsC,QAAtCA,IAAsC;AAAA,QAAhCC,OAAgC,QAAhCA,OAAgC;AAAA,QAAvBC,KAAuB,QAAvBA,KAAuB;AAAA,QAAhBC,SAAgB,QAAhBA,SAAgB;;AAC1D,QAAMC,YAAYC,OAAOJ,WAAWA,QAAQK,EAA1B,CAAlB;AACA,QAAIN,SAASF,MAAMS,WAAnB,EAAgC;AAC9B,wCACKR,KADL,oCAEGI,YAAeC,SAAf,SAA4BD,SAA5B,GAA0CC,SAF7C,EAEyDF,KAFzD;AAID,KALD,MAKO,IAAIF,SAASF,MAAMU,SAAnB,EAA8B;AAAA,UAC4BC,CAD5B,GAC2CV,KAD3C,CAC1BI,YAAeC,SAAf,SAA4BD,SAA5B,GAA0CC,SADhB;AAAA,UACkCM,IADlC,0CAC2CX,KAD3C,GAC1BI,YAAeC,SAAf,SAA4BD,SAA5B,GAA0CC,SADhB;;AAEnC,aAAOM,IAAP;AACD;AACD,WAAOX,KAAP;AACD,GAZD;AAaD;;AAEM,SAASH,oBAAT,CAA8BE,KAA9B,EAAqC;AAC1C,SAAO,YAA4B;AAAA,QAA3BC,KAA2B,uEAAnB,IAAmB;AAAA;AAAA,QAAXC,IAAW,SAAXA,IAAW;;AACjC,YAAQA,IAAR;AACE,WAAKF,MAAMa,QAAX;AACE,eAAO,qBAAWC,OAAlB;AACF,WAAKd,MAAMU,SAAX;AACA,WAAKV,MAAMS,WAAX;AACE,eAAO,qBAAWM,MAAlB;AACF;AACE,eAAOd,KAAP;AAPJ;AASD,GAVD;AAWD;;AAEc,SAASF,qBAAT,CAA+BC,KAA/B,EAAsC;AACnD,SAAO,4BAAgB;AACrBgB,YAAQ,sCAAuBhB,KAAvB,CADa;AAErBI,WAAOP,gBAAgBG,KAAhB,CAFc;AAGrBiB,gBAAYnB,qBAAqBE,KAArB;AAHS,GAAhB,CAAP;AAKD","file":"getRecentCallsReducer.js","sourcesContent":["import { combineReducers } from 'redux';\nimport getModuleStatusReducer from '../../lib/getModuleStatusReducer';\nimport callStatus from './callStatus';\n\nexport function getCallsReducer(types) {\n  return (state = {}, { type, contact, calls, sessionId }) => {\n    const contactId = String(contact && contact.id);\n    if (type === types.loadSuccess) {\n      return {\n        ...state,\n        [sessionId ? `${contactId}-${sessionId}` : contactId]: calls\n      };\n    } else if (type === types.loadReset) {\n      const { [sessionId ? `${contactId}-${sessionId}` : contactId]: _, ...rest } = state;\n      return rest;\n    }\n    return state;\n  };\n}\n\nexport function getCallStatusReducer(types) {\n  return (state = null, { type }) => {\n    switch (type) {\n      case types.initLoad:\n        return callStatus.loading;\n      case types.loadReset:\n      case types.loadSuccess:\n        return callStatus.loaded;\n      default:\n        return state;\n    }\n  };\n}\n\nexport default function getRecentCallsReducer(types) {\n  return combineReducers({\n    status: getModuleStatusReducer(types),\n    calls: getCallsReducer(types),\n    callStatus: getCallStatusReducer(types)\n  });\n}\n"]}